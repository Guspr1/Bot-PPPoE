<!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PPPoE Telegram Notifier</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#6366f1 100%);min-height:100vh;padding:20px;position:relative;overflow-x:hidden}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 50%,rgba(99,102,241,.3) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(139,92,246,.3) 0%,transparent 50%);pointer-events:none;animation:a 15s ease infinite}@keyframes a{0%,100%{opacity:1}50%{opacity:.8}}.container{max-width:1100px;margin:0 auto;background:rgba(255,255,255,.98);border-radius:20px;box-shadow:0 25px 80px rgba(0,0,0,.4),0 0 0 1px rgba(255,255,255,.1);overflow:hidden;position:relative;backdrop-filter:blur(10px);animation:b .6s ease-out}@keyframes b{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.header{background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#6366f1 100%);color:#fff;padding:40px 30px;text-align:center;position:relative;overflow:hidden}.header::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:c 20s linear infinite}@keyframes c{from{transform:rotate(0)}to{transform:rotate(360deg)}}.header h1{font-size:2.2em;margin-bottom:10px;position:relative;z-index:1;text-shadow:0 2px 10px rgba(0,0,0,.3)}.header p{position:relative;z-index:1}.content{padding:50px 40px}.form-group{margin-bottom:28px;animation:d .4s ease-out backwards}.form-group:nth-child(1){animation-delay:.1s}.form-group:nth-child(2){animation-delay:.15s}.form-group:nth-child(3){animation-delay:.2s}@keyframes d{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}label{display:block;margin-bottom:10px;font-weight:600;color:#2c3e50;font-size:.95em;letter-spacing:.3px}input[type=text]{width:100%;padding:14px 18px;border:2px solid #e8e8e8;border-radius:12px;font-size:1em;transition:all .3s ease;background:#fafafa}input[type=text]:focus{outline:0;border-color:#6366f1;background:#fff;box-shadow:0 0 0 4px rgba(99,102,241,.1);transform:translateY(-2px)}.btn{background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#6366f1 100%);color:#fff;padding:16px 35px;border:none;border-radius:12px;font-size:1.15em;font-weight:600;cursor:pointer;width:100%;transition:all .3s ease;box-shadow:0 4px 15px rgba(99,102,241,.3);position:relative;overflow:hidden}.btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.2);transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn:hover::before{width:300px;height:300px}.btn:hover{transform:translateY(-3px);box-shadow:0 8px 25px rgba(99,102,241,.4)}.btn:active{transform:translateY(-1px)}.output-section{margin-top:40px;display:none;animation:e .5s ease-out}@keyframes e{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.output-section.show{display:block}.script-box{margin-bottom:30px;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,.1);transition:transform .3s ease,box-shadow .3s ease}.script-box:hover{transform:translateY(-3px);box-shadow:0 8px 30px rgba(0,0,0,.15)}.script-title{background:linear-gradient(135deg,#1e293b 0%,#6366f1 100%);color:#fff;padding:18px 20px;font-weight:600;display:flex;justify-content:space-between;align-items:center;font-size:1.05em}.script-content{background:#1e1e1e;color:#f8f8f2;padding:24px;font-family:'Courier New',Courier,monospace;font-size:.9em;line-height:1.7;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;position:relative;max-height:500px;overflow-y:auto}.script-content::-webkit-scrollbar{width:8px;height:8px}.script-content::-webkit-scrollbar-track{background:#2d2d2d}.script-content::-webkit-scrollbar-thumb{background:#555;border-radius:4px}.script-content::-webkit-scrollbar-thumb:hover{background:#777}.copy-btn{background:rgba(255,255,255,.15);color:#fff;border:1px solid rgba(255,255,255,.3);padding:9px 18px;border-radius:8px;cursor:pointer;font-size:.9em;transition:all .3s ease;font-weight:500}.copy-btn:hover{background:rgba(255,255,255,.25);transform:scale(1.05)}.copy-btn.copied{background:#10b981;border-color:#10b981;transform:scale(1.1)}.preview-box{background:linear-gradient(135deg,#25d366 0%,#20c95a 100%);color:#fff;padding:25px;border-radius:12px;margin-top:25px;font-family:'Courier New',Courier,monospace;white-space:pre-line;box-shadow:0 4px 20px rgba(37,211,102,.3);position:relative;overflow:hidden}.preview-box::before{content:'üì±';position:absolute;top:15px;right:15px;font-size:3em;opacity:.15}.preview-title{font-weight:600;margin-bottom:18px;font-size:1.15em;position:relative;z-index:1}.info-box{background:linear-gradient(135deg,#dbeafe 0%,#bfdbfe 100%);border-left:5px solid #3b82f6;padding:18px 20px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 10px rgba(59,130,246,.1)}.warning-box{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);border-left:5px solid #f59e0b;padding:20px;border-radius:8px;margin-top:30px;box-shadow:0 2px 10px rgba(245,158,11,.1);line-height:1.8}.success-box{background:linear-gradient(135deg,#d1fae5 0%,#a7f3d0 100%);border-left:5px solid #10b981;padding:20px;border-radius:8px;margin-top:30px;box-shadow:0 2px 10px rgba(16,185,129,.1);line-height:1.8}.footer{text-align:center;margin-top:40px;padding:30px;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.05)}.footer p{color:#64748b;font-size:.9em}.footer p:last-child{color:#94a3b8;font-size:.85em;margin-top:8px}@media (max-width:768px){.content{padding:30px 20px}.header h1{font-size:1.6em}.header{padding:30px 20px}}</style></head><body><div class="container"><div class="header"><h1>üîê PPPoE Telegram Notifier</h1><p>Generate Script Notifikasi PPPoE Connected/Disconnected</p><p style="margin-top:10px;font-size:.9em;opacity:.9">Created by Muhammad Bagus Pribadi</p></div><div class="content"><div class="info-box"><strong>‚ÑπÔ∏è Info:</strong> Script ini akan mengirim notifikasi Telegram setiap kali pelanggan PPPoE login (connected) atau logout (disconnected) dari Mikrotik.</div><form id="scriptForm"><div class="form-group"><label for="botToken">Bot Token Telegram</label><input type="text" id="botToken" placeholder="Contoh: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz" required></div><div class="form-group"><label for="chatId">Chat ID Telegram</label><input type="text" id="chatId" placeholder="Contoh: -1001234567890" required></div><div class="form-group"><label for="serverName">Nama Server/Router (Opsional)</label><input type="text" id="serverName" placeholder="Contoh: Mikrotik-Gateway atau kosongkan"></div><button type="submit" class="btn">üöÄ Generate Script</button></form><div id="outputSection" class="output-section"><div class="script-box"><div class="script-title"><span>‚úÖ Script ON-LOGIN (Connected)</span><button class="copy-btn" onclick="copyScript('loginScript')">Copy</button></div><div class="script-content" id="loginScript"></div></div><div class="script-box"><div class="script-title"><span>‚ùå Script ON-LOGOUT (Disconnected)</span><button class="copy-btn" onclick="copyScript('logoutScript')">Copy</button></div><div class="script-content" id="logoutScript"></div></div><div class="preview-box"><div class="preview-title">üì± Preview Notifikasi Connected:</div><div id="previewConnected"></div></div><div class="preview-box" style="background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);margin-top:15px"><div class="preview-title">üì± Preview Notifikasi Disconnected:</div><div id="previewDisconnected"></div></div><div class="warning-box"><strong>‚ö†Ô∏è Cara Implementasi:</strong><br>1. Buka <strong>PPP > Profiles</strong> di Mikrotik<br>2. Pilih profile yang ingin ditambahkan notifikasi<br>3. Pada tab <strong>Scripts</strong>:<br>&nbsp;&nbsp;&nbsp;- Copy paste Script ON-LOGIN ke field <strong>On Login</strong><br>&nbsp;&nbsp;&nbsp;- Copy paste Script ON-LOGOUT ke field <strong>On Logout</strong><br>4. Klik <strong>OK/Apply</strong><br>5. Selesai! Notifikasi akan terkirim otomatis saat pelanggan login/logout</div><div class="success-box"><strong>‚úÖ Informasi yang Dikirim:</strong><br>‚Ä¢ Username pelanggan<br>‚Ä¢ IP Address yang diberikan<br>‚Ä¢ MAC Address perangkat<br>‚Ä¢ Caller ID (IP asal koneksi)<br>‚Ä¢ Nama server/router (jika diisi)<br>‚Ä¢ Waktu kejadian (tanggal & jam)<br>‚Ä¢ <strong>Total user online saat ini</strong></div><div class="footer"><p>¬© 2025 Muhammad Bagus Pribadi</p><p>PPPoE Telegram Notifier for Mikrotik</p></div></div></div></div><script>!function(){const e=document.getElementById("scriptForm");e.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("botToken").value,n=document.getElementById("chatId").value,o=document.getElementById("serverName").value||"Mikrotik Router",a=`:local botToken "${t}"\n:local chatID "${n}"\n:local serverName "${o}"\n\n:local username $user\n:local callerID $"caller-id"\n:local loginTime [/system clock get time]\n:local loginDate [/system clock get date]\n\n# Delay untuk tunggu IP address assign\n:delay 1s\n\n# Ambil IP address dari ppp active\n:local ipAddress [/ppp active get [find name=$username] address]\n:if ([:len $ipAddress] = 0) do={ :set ipAddress "Dynamic/Waiting" }\n\n# Ambil MAC address dari ppp active\n:local macAddress [/ppp active get [find name=$username] caller-id]\n\n# Hitung total user online\n:local totalOnline [/ppp active print count-only]\n\n:local message "[+] PELANGGAN CONNECTED%0A"\n:set message ($message . "=========================%0A")\n:set message ($message . "Username     : $username%0A")\n:set message ($message . "IP Address   : $ipAddress%0A")\n:set message ($message . "MAC Address  : $macAddress%0A")\n:set message ($message . "Caller ID    : $callerID%0A")\n:set message ($message . "Server       : $serverName%0A")\n:set message ($message . "Tanggal      : $loginDate%0A")\n:set message ($message . "Waktu        : $loginTime%0A")\n:set message ($message . "=========================%0A")\n:set message ($message . "Total Online : $totalOnline users%0A")\n:set message ($message . "=========================%0A")\n:set message ($message . "Author: Muhammad Bagus Pribadi%0A")\n:set message ($message . "linkedin.com/in/bagus-pribadi")\n\n:do {\n    /tool fetch url="https://api.telegram.org/bot$botToken/sendMessage?chat_id=$chatID&text=$message" mode=https keep-result=no\n} on-error={\n    :log error "Failed to send Telegram notification"\n}`,c=`:local botToken "${t}"\n:local chatID "${n}"\n:local serverName "${o}"\n\n:local username $user\n:local callerID $"caller-id"\n:local logoutTime [/system clock get time]\n:local logoutDate [/system clock get date]\n\n# Ambil IP address sebelum disconnect (mungkin sudah hilang)\n:local ipAddress "Disconnected"\n:local macAddress "N/A"\n\n# Coba ambil dari ppp active jika masih ada\n:if ([/ppp active find name=$username] != "") do={\n    :set ipAddress [/ppp active get [find name=$username] address]\n    :set macAddress [/ppp active get [find name=$username] caller-id]\n}\n\n# Hitung total user online\n:local totalOnline [/ppp active print count-only]\n\n:local message "[-] PELANGGAN DISCONNECTED%0A"\n:set message ($message . "=========================%0A")\n:set message ($message . "Username     : $username%0A")\n:set message ($message . "IP Address   : $ipAddress%0A")\n:set message ($message . "MAC Address  : $macAddress%0A")\n:set message ($message . "Caller ID    : $callerID%0A")\n:set message ($message . "Server       : $serverName%0A")\n:set message ($message . "Tanggal      : $logoutDate%0A")\n:set message ($message . "Waktu        : $logoutTime%0A")\n:set message ($message . "=========================%0A")\n:set message ($message . "Total Online : $totalOnline users%0A")\n:set message ($message . "=========================%0A")\n:set message ($message . "Author: Muhammad Bagus Pribadi%0A")\n:set message ($message . "linkedin.com/in/bagus-pribadi")\n\n:do {\n    /tool fetch url="https://api.telegram.org/bot$botToken/sendMessage?chat_id=$chatID&text=$message" mode=https keep-result=no\n} on-error={\n    :log error "Failed to send Telegram notification"\n}`,s=`[+] PELANGGAN CONNECTED\n=========================\nUsername     : customer001\nIP Address   : 10.10.10.100\nMAC Address  : AA:BB:CC:DD:EE:FF\nCaller ID    : 192.168.100.50\nServer       : ${o}\nTanggal      : dec/09/2025\nWaktu        : 14:30:25\n=========================\nTotal Online : 25 users\n=========================\nAuthor: Muhammad Bagus Pribadi\nlinkedin.com/in/bagus-pribadi`,l=`[-] PELANGGAN DISCONNECTED\n=========================\nUsername     : customer001\nIP Address   : 10.10.10.100\nMAC Address  : AA:BB:CC:DD:EE:FF\nCaller ID    : 192.168.100.50\nServer       : ${o}\nTanggal      : dec/09/2025\nWaktu        : 16:45:10\n=========================\nTotal Online : 24 users\n=========================\nAuthor: Muhammad Bagus Pribadi\nlinkedin.com/in/bagus-pribadi`;document.getElementById("loginScript").textContent=a,document.getElementById("logoutScript").textContent=c,document.getElementById("previewConnected").textContent=s,document.getElementById("previewDisconnected").textContent=l,document.getElementById("outputSection").classList.add("show"),document.getElementById("outputSection").scrollIntoView({behavior:"smooth"})}))}();function copyScript(e){const t=document.getElementById(e).textContent,n=event.target;navigator.clipboard.writeText(t).then((function(){const e=n.textContent;n.textContent="‚úì Copied!",n.classList.add("copied"),setTimeout((function(){n.textContent=e,n.classList.remove("copied")}),2e3)})).catch((function(e){alert("Gagal copy: "+e)}))}</script></body></html>
